import{e,f as t,n as a}from"./index.2d5daa9b.js";import{i as s,n as l}from"./cates.e5d18430.js";import{d as n,x as r,l as c,z as i,y as o,B as u,r as d,o as m,c as C,a as v,S as p,C as g,F as f,D as y,Q as A,q as I,E as P,u as x}from"./vendor.99bea0c6.js";import{_ as T}from"./Index.18176416.js";import{_,a as h}from"./Index.74905c7a.js";import{_ as j,a as k}from"./Index.8d6b7d4f.js";import"./Index.vue_vue&type=script&lang.16e4a1a2.js";import"./Index.33eca075.js";var b=n({name:"blogCate",components:{TitleWithCount:T,NavList:j,NavListItem:k,PanelCard:_,PanelCardItem:h},setup:()=>({cate:function(n){const{allCates:r,catesMap:d}=e(n.state.article.directory),m=i(),C=o(),v=c({allCates:r,catesMap:d}),p=u((()=>{var e;const t=decodeURIComponent((null==(e=m.query)?void 0:e.cate)||"");return t?[t]:v.allCates})),g=u((()=>1===p.value.length?`分类: ${p.value[0]}`:"分类"));return c({data:v,curCates:p,curTitle:g,isCateActive:e=>s(e,m),navigateToCatesPage:e=>l(e,C),getArticleArray:e=>{var t;return(null==(t=d[e])?void 0:t.articles)||[]},getCatePanelItemProps:e=>({title:e.title,time:t(e.time,{type:"day"}),onClick:()=>a(e.name,C)})})}(r())})});const L=A("All");b.render=function(e,t,a,s,l,n){const r=d("TitleWithCount"),c=d("NavListItem"),i=d("NavList"),o=d("PanelCardItem"),u=d("PanelCard");return m(),C("div",null,[v(r,{title:e.cate.curTitle,count:e.cate.getArticleArray(e.cate.curCates[0]).length},p({_:2},[1!==e.cate.curCates.length?{name:"count",fn:g((()=>[A("共 "+I(e.cate.curCates.length)+" 个分类",1)]))}:void 0]),1032,["title","count"]),v(i,null,{default:g((()=>[v(c,{onClick:t[0]||(t[0]=t=>e.cate.navigateToCatesPage(""))},{default:g((()=>[L])),_:1}),(m(!0),C(f,null,y(e.cate.data.allCates,((t,a)=>(m(),P(c,{key:a+"nav-item",isActive:e.cate.isCateActive(t),onClick:a=>e.cate.navigateToCatesPage(t)},{default:g((()=>[A(I(t),1)])),_:2},1032,["isActive","onClick"])))),128))])),_:1}),(m(!0),C(f,null,y(e.cate.curCates,(t=>(m(),P(u,{key:t+"cate-panel-card",title:t,showMuted:!0,mutedText:`（${e.cate.getArticleArray(t).length} 篇）`},{default:g((()=>[(m(!0),C(f,null,y(e.cate.getArticleArray(t),((t,a)=>(m(),P(o,x({key:a+"cate-panel-item"},e.cate.getCatePanelItemProps(t)),null,16)))),128))])),_:2},1032,["title","mutedText"])))),128))])};export default b;
